<link rel="stylesheet" href="https://development.sportinglife.ca/on/demandware.static/-/Library-Sites-SportingLifeSharedLibrary/default/images/corporate/cssjs/amplience-hp-styles.css" />

<div class="d-flex dofd-section mb-5 {{crParam 'locale' .}}">
    <div class="dofd-clockdown d-flex flex-column">
        <div class="d-flex justify-content-end mt-2 px-3">
            
            <div class="c-tooltip tooltip">
                <span class="c-tooltip__icon"><i class="fas fa-info-circle"></i></span>
                <div class="c-tooltip__content tooltip-content">
                <div class="s-tooltip-content">
                <div class="content-asset">
                <h6>{{#if (eq (crParam 'locale' . ) 'en-CA')}}About Deal Of The Day{{else if (eq (crParam 'locale' . ) 'fr-CA')}}À propos de offre du jour{{/if}}</h6>
                {{#if (eq (crParam 'locale' . ) 'en-CA')}}Deal of the Day is available in limited quantities, for a limited time. Available ONLINE ONLY. Cannot be combined with other promotion/discount. Adding Daily Deal to cart does not guarantee your order of that item. Only completed transactions will reflect available quantity online. Offer subject to change without notice. Daily Deal items not eligible for price-matching.{{else if (eq (crParam 'locale' . ) 'fr-CA')}}L'Offre du jour est une offre disponible en quantités limitées, pour une durée de temps limitée, et seulement EN LIGNE. Ne peut être combinée à tout autre rabais/promotion. L'ajout de l'Offre du jour à votre panier ne représente en aucun cas une garantie de réservation de l'article; seules les transactions complétées reflèteront les quantités disponibles en ligne. L'Offre pourrait changer sans préavis. L'Offre du jour n'est pas compatible avec la politique d'égalisation des prix.{{/if}}
                </div> 
                </div>
                </div>
                </div>
        </div>
        <div class="d-flex justify-content-center flex-column" style="height:100%;">
            
            <p class="deal-of-the-day-title px-3">{{#if (eq (crParam 'locale' . ) 'en-CA')}}Deal <span>of the</span> day{{else if (eq (crParam 'locale' . ) 'fr-CA')}}OFFRE <span>DU</span> JOUR{{/if}}</p>
            
            
            <div class="d-flex clockdown px-3">
                <div>
                    <p class="text-center">{{#if (eq (crParam 'locale' . ) 'en-CA')}}Limited Offer{{else if (eq (crParam 'locale' . ) 'fr-CA')}}OFFRE D'UNE DURÉE LIMITÉE{{/if}}</p>
                    <p class="text-center">{{#if (eq (crParam 'locale' . ) 'en-CA')}}Today Only{{else if (eq (crParam 'locale' . ) 'fr-CA')}}AUJOURD'HUI SEULEMENT{{/if}}</p>
                </div>
                <div>
                    <p class="text-center">{{#if (eq (crParam 'locale' . ) 'en-CA')}}Time Left{{else if (eq (crParam 'locale' . ) 'fr-CA')}}TEMPS RESTANT{{/if}}</p>
                    <p class="text-center"><span class="dofd-hours"></span> : <span class="dofd-minutes"></span> : <span class="dofd-seconds"></span></p>
                    
                </div>
                
            </div>
        </div>
        
  
        <div class="date-field py-2 px-3 d-flex mt-3 align-items-center text-center h-100 justify-content-center">
            <p class="m-0 text-black">{{dateText}} &nbsp; &#8226; &nbsp; {{#if (eq (crParam 'locale' . ) 'en-CA')}}Online Only{{else if (eq (crParam 'locale' . ) 'fr-CA')}}EN LIGNE SEULEMENT{{/if}}</p>
        </div>
  
    </div>
    <div class="img-div d-flex justify-content-start align-items-center p-0">
        <a class="pl-3 pl-md-0 pl-lg-3" href="{{link.url}}">
            <img class="img-fluid" src="https://{{productImage.defaultHost}}/i/{{productImage.endpoint}}/{{productImage.name}}?sw=315">
        </a>
    </div>
    
    
    <div class="d-flex discount-box w-100 pl-3 pl-sm-3 pl-lg-4 pl-xl-6">
        <div class="d-flex justify-content-center flex-column pr-3">
            <p class="discount mb-1">{{discountText}}</p>
            <p class="brand m-0">{{brandText}}</p>
            <p class="desc mb-1">{{descText}}</p>
          <p class="mb-3 additional-desc">{{addDescText}} </p>
       <p class="reduced-price m-0">{{reducedPrice}}</p>
            <p class="regular-price m-0">{{regularPrice}}
                <br>
                {{#with metadata}}
                The current language is: {{lang}}
              {{/with}} </p> <!-- -->
        </div>
  
        <!-- button -->
        <div class="d-flex justify-content-start align-items-center pr-3">
            <div class="dofd-btn my-4">
                <a
                  class="py-2"
                 
                  href="{{link.url}}"
                  >{{link.title}}</a
                >
              </div>
        </div>
        
  
    </div>
    
  </div>
  
  <script>
    (function () {
      var second = 1000,
        minute = second * 60,
        hour = minute * 60,
        day = hour * 24;
  
      var stringForHour, stringForMinute, stringForSeconds;
  
      let today = new Date();
      let tomorrow = new Date(today);
      tomorrow.setHours(6,0,0);
      
        if (today.getHours() >= 6) {  
            tomorrow.setDate(tomorrow.getDate() + 1); 
        } 
      
  
    //   var dealDate = "Feb 08, 2022 06:00:00",
     var countDown = new Date(tomorrow).getTime(),
        x = setInterval(function () {
          var now = new Date().getTime(),
            distance = countDown - now;
  
          stringForHour = Math.floor((distance % day) / hour);
          stringForMinute = Math.floor((distance % hour) / minute);
          stringForSeconds = Math.floor((distance % minute) / second);
  
          // add zero to single digit, if needed
          if (stringForHour.toString().length == 1) {
            stringForHour = "0" + stringForHour;
          }
          if (stringForMinute.toString().length == 1) {
            stringForMinute = "0" + stringForMinute;
          }
          if (stringForSeconds.toString().length == 1) {
            stringForSeconds = "0" + stringForSeconds;
          }
  
          
            (document.getElementsByClassName("dofd-hours")[0].innerText =
              stringForHour),
            (document.getElementsByClassName("dofd-minutes")[0].innerText =
              stringForMinute),
              (document.getElementsByClassName("dofd-seconds")[0].innerText =
              stringForSeconds);
  
          //do something later when date is reached
          if (distance < 0) {
            clearInterval(x);
          }
          //seconds
        }, 0);
    })();
  
  </script>