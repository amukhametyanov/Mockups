<style>
    
    .bf-thin-banner {
    display: none !important;
    }
      .c-top-promo-banner {
      display: none;
      }
          h1.category-header,
        .content-slot.slot-grid-header {
            display: none;
        }
         
          .section-title {
                  text-transform: uppercase;
                  font-weight: 800;
                  font-size: 14px;
                  line-height: 1.5rem;
                  letter-spacing: 2px;
                  text-align: center;
              }
          /* header banner */
          .hero-sustainability-shop {
              height: 375px;
              position: relative;
              display: flex;
              align-items: center;
              flex-direction: column;
              justify-content: center;
          }
          .hero-img-sustainability-shop {
              width: 100vw;
              max-width: 1920px;
              margin: 0 auto;
              position: absolute;
              left: 50%;
              -webkit-transform: translateX(-50%);
              transform: translateX(-50%);
              background-image: /*linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),*/ url(/on/demandware.static/-/Library-Sites-SportingLifeSharedLibrary/default/images/banner-fullwidth/3-pic-banner-no-text.jpg);
              background-repeat: no-repeat;
              background-size: cover;
              background-position: center 30%;
              height: 100%;
          }
          .hero-sustainability-shop-title {
              font-family: "Nunito Sans",sans-serif;
              font-size: 3rem;
              color:#fff;
              z-index: 1;
              font-weight: 500;
              letter-spacing: -2px;
          }
          .hero-sustainability-shop-title > span {
              text-transform: uppercase;
              /*font-style: italic;*/
              font-size: 3rem;
              font-weight: 900;
          }
        .category-header {
            display: none;
        }
          /* featured carousel */
          .h3-sustainability-shop-cat {
              text-transform: uppercase;
              font-weight: 800;
              font-size: 1rem;
              line-height: 1.5rem;
              letter-spacing: 4px;
              text-align: center;
          }
              /* Custom Scroll Carousel */
              .section-for-carousel {
                overflow-x: auto;
                text-align: center;
                padding-bottom: 10px;
              }
              .section-for-carousel > div {
                display: inline-flex;
                position: relative;
              }
              .custom-carousel-box {
                position: relative;
                width: 100%;
                overflow-y: hidden;
                /* white-space: nowrap; */
                user-select: none;
                cursor: pointer;
                display: flex;
              }
              .custom-carousel-tile {
                display: inline-block;
                padding-right: 5px;
                padding-left: 5px;
                padding-top: 10px;
                /* max-width: 210px; */
                /* width: 335px; */
                width: 340px;
              }
              .custom-carousel-tile.active {
                cursor: grabbing;
                cursor: -webkit-grabbing;
                transform: scale(1);
              }
              /* brand logos carousel */
              .brand-logos-carousel {
                  width: 100%;
              }
              .brand-logos-carousel .custom-carousel-tile {
                  flex: 1 1 0px;
                  justify-content: center;
                  display: flex;
                  align-items: center;
              }
                    /* filter carousel */
                    .filter-section {
          overflow-x: auto;
          text-align: center;
        }
        .filter-carousel {
          width: 100%;
        }
        .filter-section > div {
          display: inline-flex;
          position: relative;
          justify-content: center;
        }
        .customer-filter-box {
          position: relative;
          /*width: 100%;*/
          overflow-y: hidden;
          /* white-space: nowrap; */
          user-select: none;
          cursor: pointer;
          display: flex;
        }
        .filter-carousel .custom-filter-tile {
          flex: 1 1 0px;
          justify-content: center;
          display: flex;
          align-items: center;
          margin: 0 5px;
        }
        .custom-filter-tile {
          display: inline-block;
          padding: 10px 15px;
          /* max-width: 210px; */
          /* width: 335px; */
          /*width: 340px;*/
          border: 1px #ccc solid;
          transition: 0.3s;
          white-space: nowrap;
        }
        .custom-filter-tile:hover {
          border: 1px black solid;
          background-color: #000;
          color: white;
        }
        .customer-filter-box > a {
          font-size: 12px;
          color: black;
          text-decoration: none;
          margin-bottom: 7px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.3px;
        }
        .customer-filter-box > a:hover {
          text-decoration: none !important;
        }

        /* .sale-sliders {
            margin-top: 30px;
        } */
              /* Media Queries */
              @media (max-width: 1240px) {
                  .hero-sustainability-shop {
                      height: 300px;
                  }
                  /* start to show scrollbar */
                  .custom-carousel-tile {
                      max-width: initial;
                  }
              }
              @media (max-width: 1023px) {
                .section-for-carousel {
                  margin-right: -20px !important;
                }
                
              }
              @media (max-width: 730px) {
                  .brand-logos-carousel {
                    width: auto;
                }
                .brand-logos-carousel .custom-carousel-tile {
                  width: 110px;
                }
              }
              @media (max-width:609px) {
                  .filter-section {
                      width: calc(100vw - 17px);
                      margin-left: -20px;
          }
              }
              @media (max-width: 576px) {
                  .sale-content-subcopy {
                    font-size: 14px;
                    margin: 0 -20px;
                  }
                  .filter-section {
                    margin: 0 -30px;
                    width: auto;
                  }
                  .h3-sustainability-shop-cat {
                      font-size: 0.8rem;
                  }
                  .section-for-carousel {
                      margin-left: -20px !important;
                  }
                  .custom-carousel-box {
                      padding-left: 15px;
                  }
                  .customer-filter-box {
                    padding: 0px 7px;
                  }
              }
          </style>
    
          
          
    

            <div class="sale-sliders">
                <h1 class="content-header sale-content-header" style="margin-bottom:5px !important;">Your Sporting Live Deals</h1>
                <p class="text-center sale-content-subcopy"><strong>Up to 50% off.</strong></a> Ends Jun. 4</p>

                    <!-- Filter By Category -->
                    <div class="filter-section mt-4 mb-4">
                        <div class="filter-carousel">
                        <div class="customer-filter-box">
           <a
                                    href="$url('Search-Show','cgid','sale','prefn1','productType','prefv1','Coats & Jackets|Vests')$" data-aria-label="25% - 40% Off Select Outerwear"
                                >
                                    <div class="custom-filter-tile custom-filter-tile-vegan brand-logo-cat">25% - 40% Off<br>Select Outerwear</div>
                               </a>

<a
                                href="$url('Search-Show','cgid','sale','prefn1','productType','prefv1','Running Shoes|Cross-training Shoes|Tennis shoes')$" data-aria-label="Up to 40% Off Athletic Footwear"
                            >
                                <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">Up to 40% Off<br>Athletic Footwear</div>
                            </a>

 <a
                                href="$url('Search-Show','cgid','sale','prefn1','Lifestyle','prefv1','Athletic & Fitness|Running|Tennis|Golf','prefn2','division','prefv2','Clothing')$" data-aria-label="25% Off Athletic Apparel"
                                >
                                <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">25% Off<br>Athletic Apparel</div>
                                </a>

 <a
                                    href="$url('Search-Show','cgid','sale','prefn1','division','prefv1','Clothing','prefn2','brand','prefv2','Columbia|Jack and Sage|Rumors|Brunette The Label','prefn3','gender','prefv3','Women's|Men's')$" data-aria-label="25% - 50% Off Outdoor Apparel"
                                >
                                    <div class="custom-filter-tile custom-filter-tile-vegan brand-logo-cat">25% - 50% Off<br>Outdoor Apparel</div>

                                </a>


  <a
                                href="$url('Search-Show','cgid','sale','prefn1','brand','prefv1','Asics','prefn2','productType','prefv2','Running Shoes|Cross-training Shoes')$" data-aria-label="25% Off Asics Athletic Footwear"
                            >
                                <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">25% Off<br>Asics Footwear</div>
                            </a>

   
                
                                                         
  <a
                                href="$url('Search-Show','cgid','sale','prefn1','Lifestyle','prefv1','Cycle')$" data-aria-label="Up to 50% Off Cycle"
                            >
                                <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">Up to 50% Off<br>Cycle</div>
                            </a>


                            </div>
                        </div>
                    </div>
                
                    <!-- Filter By Category -->
                    <h3 class="section-title mb-2">Shop By Category</h3>
                        <div class="filter-section mb-0">
                            <div class="filter-carousel">
                            <div class="customer-filter-box">
                                
                
                                
                <a href="$url('Search-Show','cgid','sale-womens')$" data-aria-label="Women's Clothing">
                            <div class="custom-filter-tile custom-filter-tile-organic brand-logo-cat">Women's Clothing</div>
                        </a>
                        <a
                            href="$url('Search-Show','cgid','sale-mens')$" data-aria-label="Men's Clothing"
                        >
                            <div class="custom-filter-tile custom-filter-tile-vegan brand-logo-cat">Men's Clothing</div>
                        </a>
                
                        <a
                        href="$url('Search-Show','cgid','sale-boys')$" data-aria-label="Boys' Clothing"
                        >
                        <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">Boys' Clothing</div>
                        </a>
                        
                        <a
                        href="$url('Search-Show','cgid','sale-girls')$" data-aria-label="Girls' Clothing"
                    >
                        <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">Girls' Clothing</div>
                    </a>
                
                    <a
                        href="$url('Search-Show','cgid','sale-shoes')$" data-aria-label="Footwear"
                    >
                        <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">Footwear</div>
                    </a>
                
                    <a
                        href="$url('Search-Show','cgid','sale-equipment')$" data-aria-label="Equipment"
                    >
                        <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">Equipment</div>
                    </a>
                
                    <a
                        href="$url('Search-Show','cgid','last-run-clearance')$" data-aria-label="Clearance"
                    >
                        <div class="custom-filter-tile custom-filter-tile-responsible brand-logo-cat">Clearance</div>
                    </a>
                
                </div>
                </div>
                        </div>
            </div>



<!-- <script>

// Function to check and update header visibility
function updateHeaderVisibility() {
    const breadcrumb = document.querySelector('.breadcrumb');
    if (breadcrumb) {
        const hasRefinements = breadcrumb.querySelector('.breadcrumb-refinement');
        const catHeader = document.querySelector('h1.category-header');
        console.log(catHeader);
        console.log('Has refinements:', !!hasRefinements);
        
        // const saleHeader = document.querySelector('.sale-sliders');
        const saleHeader = document.querySelector(".content-slot.slot-grid-header");
        if (saleHeader) {
            // const headerContainer = saleHeader.closest('.sale-sliders');
            
            // if (headerContainer) {
                if (hasRefinements) {
                    console.log('Hiding header container');
                    saleHeader.style.display = 'none';
                    catHeader.style.display = 'block';
                } else {
                    console.log('Showing header container');
                    saleHeader.style.display = '';
                    catHeader.style.display = 'none';
                }
            // }
        }
    }
}

// Initialize MutationObserver to watch for changes in the breadcrumb
const observer = new MutationObserver((mutations) => {
    console.log('Mutation detected');
    updateHeaderVisibility();
});

// Function to start observing
function startObserving(breadcrumb) {
    observer.observe(breadcrumb, {
        childList: true,
        subtree: true,
        characterData: true,
        attributes: true,
        attributeOldValue: true
    });
    console.log('Observer attached to breadcrumb');
}

// Initialize observer
function initializeObserver() {
    console.log('Initializing observer...');
    const breadcrumb = document.querySelector('.breadcrumb');
    
    if (breadcrumb) {
        console.log('Found breadcrumb');
        // Check visibility immediately before starting to observe
        updateHeaderVisibility();
        startObserving(breadcrumb);
    } else {
        console.log('Breadcrumb not found, setting up mutation observer for body');
        // If breadcrumb isn't found, watch for it to be added to the DOM
        const bodyObserver = new MutationObserver((mutations) => {
            const breadcrumb = document.querySelector('.breadcrumb');
            if (breadcrumb) {
                console.log('Breadcrumb found after body mutation');
                bodyObserver.disconnect();
                updateHeaderVisibility(); // Check immediately when breadcrumb is found
                startObserving(breadcrumb);
            }
        });

        bodyObserver.observe(document.body, {
            childList: true,
            subtree: true
        });
    }
}

// Run visibility check as soon as possible
function checkVisibilityEarly() {
    updateHeaderVisibility();
}

// Run initial check as early as possible
if (document.readyState === 'loading') {
    // If still loading, set up both immediate and DOMContentLoaded checks
    checkVisibilityEarly(); // Try immediately
    document.addEventListener('DOMContentLoaded', () => {
        checkVisibilityEarly(); // Try again when DOM is ready
        initializeObserver(); // Set up observer
    });
} else {
    // If already loaded, check immediately and set up observer
    checkVisibilityEarly();
    initializeObserver();
}
</script> -->


<script>
// Function to check and update header visibility
function updateHeaderVisibility() {
    const breadcrumb = document.querySelector('.breadcrumb');
    // It's possible breadcrumb exists but other elements don't yet on initial dynamic render
    const catHeader = document.querySelector('h1.category-header');
    const saleHeader = document.querySelector(".content-slot.slot-grid-header");

    if (breadcrumb && catHeader && saleHeader) { // Ensure ALL required elements are present
        const hasRefinements = breadcrumb.querySelector('.breadcrumb-refinement');
        // console.log('All elements found. Has refinements:', !!hasRefinements);

        if (hasRefinements) {
            // console.log('Hiding saleHeader, showing catHeader');
            saleHeader.style.display = 'none';
            catHeader.style.display = 'block';
        } else {
            // console.log('Showing saleHeader, hiding catHeader');
            saleHeader.style.display = 'block'; // Use '' to reset to default (usually block or from CSS)
            catHeader.style.display = 'none';
        }
    } else {
        // console.log('One or more crucial elements not found. Skipping visibility update.');
        // if (!breadcrumb) console.log('- Breadcrumb missing');
        // if (!catHeader) console.log('- Category Header missing');
        // if (!saleHeader) console.log('- Sale Header missing');
    }
}

// Initialize MutationObserver to watch for changes in the breadcrumb
const breadcrumbObserver = new MutationObserver((mutations) => {
    // console.log('Breadcrumb mutation detected');
    updateHeaderVisibility(); // Re-check when breadcrumb content changes
});

// Function to start observing the breadcrumb
function startObservingBreadcrumb(breadcrumbElement) {
    breadcrumbObserver.observe(breadcrumbElement, {
        childList: true,
        subtree: true,
        // attributes: true, // Usually not needed for refinement changes, but can be kept
        // characterData: true, // Usually not needed
    });
    // console.log('Observer attached to breadcrumb:', breadcrumbElement);
}

// Function to initialize everything
function initialize() {
    // console.log('Initializing script logic...');
    const breadcrumb = document.querySelector('.breadcrumb');

    if (breadcrumb) {
        // console.log('Breadcrumb found on initial check.');
        updateHeaderVisibility(); // Try to update visibility immediately
        startObservingBreadcrumb(breadcrumb); // Start observing it for changes
    } else {
        // console.log('Breadcrumb not found. Observing body for its appearance.');
        // If breadcrumb isn't found, watch for it (and other elements) to be added to the DOM
        const bodyObserver = new MutationObserver((mutations, observerInstance) => {
            const breadcrumbNow = document.querySelector('.breadcrumb');
            const catHeaderNow = document.querySelector('h1.category-header'); // Also check for these
            const saleHeaderNow = document.querySelector(".content-slot.slot-grid-header");

            // Wait until all three key elements are present
            if (breadcrumbNow && catHeaderNow && saleHeaderNow) {
                // console.log('Breadcrumb and headers found after body mutation.');
                observerInstance.disconnect(); // Stop observing the body, we found what we need
                updateHeaderVisibility(); // Update visibility now that elements are present
                startObservingBreadcrumb(breadcrumbNow); // Start observing the breadcrumb
            } else {
                // console.log('Body mutation, but key elements not yet all present.');
            }
        });

        bodyObserver.observe(document.body, {
            childList: true,
            subtree: true
        });
    }
    // Fallback: In case the elements are already there but the body observer setup
    // was somehow bypassed or they appeared between querySelector and observer setup.
    // Also, if they appear AFTER DOMContentLoaded but not via a mutation bodyObserver would easily catch.
    // This is a bit of a safety net.
    updateHeaderVisibility();
}

// --- Script Entry Point ---
// Wait for the DOM to be fully loaded and parsed
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initialize);
} else {
    // DOMContentLoaded has already fired
    initialize();
}

// As an additional safety net for very dynamic pages,
// you might consider a window.onload if DOMContentLoaded isn't enough.
// window.addEventListener('load', () => {
//    console.log('Window fully loaded (all resources). Re-checking visibility.');
//    updateHeaderVisibility();
//    // Ensure observer is running if initialize didn't catch it
//    if (!document.querySelector('.breadcrumb-observer-attached')) { // pseudo-flag
//       const breadcrumb = document.querySelector('.breadcrumb');
//       if (breadcrumb && !breadcrumb.classList.contains('breadcrumb-observer-attached')) {
//          startObservingBreadcrumb(breadcrumb);
//          breadcrumb.classList.add('breadcrumb-observer-attached');
//       }
//    }
// });

</script>